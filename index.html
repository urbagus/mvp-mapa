<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MVP mapa</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <style>
    html, body { height: 100%; margin: 0; }
    #map { height: 100vh; width: 100vw; }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    const map = L.map("map").setView([-32.95, -60.66], 12);

    L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png", {
      maxZoom: 20,
      attribution: "&copy; OpenStreetMap &copy; CARTO"
    }).addTo(map);

    fetch("./data/hex_index_access.geojson")
      .then(r => {
        if (!r.ok) throw new Error(`HTTP ${r.status} al cargar el GeoJSON`);
        return r.json();
      })
      .then(data => {
        const layer = L.geoJSON(data, {
          style: { weight: 1, opacity: 0.8, fillOpacity: 0.35 }
        }).addTo(map);

        try { map.fitBounds(layer.getBounds(), { padding: [20, 20] }); } catch(e) {}
      })
      .catch(err => {
        console.error(err);
        alert("No pude cargar el GeoJSON. Mir√° la consola (F12). " + err.message);
      });
  </script>
</body>
</html>
